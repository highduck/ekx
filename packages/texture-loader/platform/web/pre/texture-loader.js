var TextureLoader=function(e){"use strict";var t=!1;fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e)})).then((function(){return t=!0})).catch();var E=65535,r=268369920,a=function(){this.id=0,this.total=0,this.loaded=0,this.progress=0,this.w=0,this.h=0,this.images=[],this.texture=null,this.textureID=0,this.gl=null,this.flags=0},T=[null],_=1;function i(){var e=_,t=function(e){var t=T[e];return void 0===t&&((t=new a).id=e+1,T[e]=t),t}(e),i=t.id;return _=i&E,i=e|i&r,t.id=i,i}function n(e){var t=T[e&E];return t&&t.id===e?t:null}return e.destroy=function(e){var t=n(e);if(t){if(t.images){for(var a=0;a<t.images.length;++a){var T=t.images[a];T&&(T.onload=null,T.src="")}t.images.length=0}return t.texture=null,t.total=0,t.id=e+65536&r|_,_=e&E,0}return 1},e.get=n,e.load=function(e){var r=i(),a=T[r&E];a.loaded=0,a.total=e.urls.length,a.flags=e.flags,a.gl=e.gl||(GL?GL.currentContext.GLctx:null);var _=e.basePath;_&&"/"!==_.charAt(_.length-1)&&(_+="/");for(var A=0!=(2&e.formatMask)&&t,l=0;l<a.total;++l){var u=e.urls[l];if(u){if(A){var R=u.lastIndexOf(".");R>=0&&(u=u.substring(0,R)+".webp")}_&&(u=_+u);var s=new Image;a.images[l]=s,s.onload=function(){var e=n(r);if(e&&(++e.loaded,e.progress=e.loaded/e.total*100|0,e.loaded>=e.total)){var t=e.images[0];e.w=t.width,e.h=t.height;var E=e.gl;if(E){var a=!!(1&e.flags);a&&E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var T=!!(2&e.flags),_=E.createTexture();if(T){var i=[E.TEXTURE_CUBE_MAP_POSITIVE_X,E.TEXTURE_CUBE_MAP_NEGATIVE_X,E.TEXTURE_CUBE_MAP_POSITIVE_Y,E.TEXTURE_CUBE_MAP_NEGATIVE_Y,E.TEXTURE_CUBE_MAP_POSITIVE_Z,E.TEXTURE_CUBE_MAP_NEGATIVE_Z];E.bindTexture(E.TEXTURE_CUBE_MAP,_);for(var A=0;A<i.length;++A)E.texImage2D(i[A],0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,e.images[A]);E.texParameteri(E.TEXTURE_CUBE_MAP,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_CUBE_MAP,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_CUBE_MAP,E.TEXTURE_MIN_FILTER,E.LINEAR),E.texParameteri(E.TEXTURE_CUBE_MAP,E.TEXTURE_MAG_FILTER,E.LINEAR)}else E.bindTexture(E.TEXTURE_2D,_),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,t),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.LINEAR),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.LINEAR),E.bindTexture(E.TEXTURE_2D,null);if(a&&E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.texture=_,GL){var l=GL.getNewId(GL.textures);_.name=l,GL.textures[l]=_,e.textureID=l}}}},s.src=u}}return r},Object.defineProperty(e,"__esModule",{value:!0}),e}({});//# sourceMappingURL=texture-loader.js.map
